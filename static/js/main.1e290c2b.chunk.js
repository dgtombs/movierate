(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,n){},167:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);var r=n(15),i=n(0),c=n.n(i),a=n(25),o=n.n(a),s=(n(167),n(77)),l=n(151),d=(n(168),n(118),n(88)),j=n.n(d),u=n(322),b=n(321),h=n(89),x=n.n(h),O={1:"Very Bad!",2:"Bad",3:"Alright",4:"Good",5:"Very Good!"},f=function(e){return String(e.rating)+"/5: "+(e.ratingText||O[e.rating])},v=function(e,t){return e>t?1:e<t?-1:0},m=c.a.createContext({title:"You should never see this",introduction:"You should never see this"}),g=n(99),p=n(59),y=u.a.Text,w=u.a.Title,C=function(e){var t=e.movie,n=e.onClose;return Object(r.jsxs)("div",{className:"movie-details",children:[Object(r.jsxs)("header",{children:[Object(r.jsxs)(w,{level:2,children:[t.title," (",t.year,")"]}),Object(r.jsx)(p.a,{type:"text",className:"close-button",onClick:n,children:Object(r.jsx)(g.a,{})})]}),Object(r.jsx)(w,{level:5,children:"Rating"}),Object(r.jsx)(y,{children:f(t)}),Object(r.jsx)(w,{level:5,children:"Director"}),Object(r.jsx)(y,{children:t.director}),Object(r.jsx)(w,{level:5,children:"Review"}),Object(r.jsx)(j.a,{children:t.review}),Object(r.jsxs)(y,{type:"secondary",children:["Reviewed ",x()(t.rateDate).format("LL"),"."]})]})},D=u.a.Title,N="movie-list-table",S=function(){var e=Object(i.useContext)(m);return Object(r.jsxs)("div",{className:"introduction",children:[Object(r.jsx)(D,{level:2,children:"Introduction"}),Object(r.jsx)(j.a,{children:e.introduction})]})},I=function(e){var t=e.moviesData,n=t.config,c=t.movies,a=Object(i.useState)(null),o=Object(s.a)(a,2),l=o[0],d=o[1];Object(i.useEffect)((function(){document.title=n.title}));var j=[{title:"Title",dataIndex:"title",sorter:function(e,t){return v(e.title,t.title)}},{title:"Year",dataIndex:"year",defaultSortOrder:"ascend",sorter:function(e,t){return v(e.year,t.year)}},{title:"Director",dataIndex:"director"},{title:"Rating",className:"rating-column",dataIndex:"rating",render:function(e,t){return f(t)},sorter:function(e,t){return t.rating-e.rating}},{title:"Review Date",className:"review-date-column",dataIndex:"rateDate",render:function(e){return x()(e).format("l")},sorter:function(e,t){return v(e.rateDate,t.rateDate)}}];return l&&j.splice(2,1),Object(r.jsxs)(m.Provider,{value:n,children:[Object(r.jsx)("header",{children:Object(r.jsx)(D,{children:n.title})}),Object(r.jsxs)("div",{className:"main-content",children:[Object(r.jsx)("div",{className:"movie-list",children:Object(r.jsx)(b.a,{"data-testid":N,columns:j,dataSource:c,rowKey:function(e){return e.title+e.year},onRow:function(e){return{onClick:function(){return d(e)}}}})}),l?Object(r.jsx)(C,{movie:l,onClose:function(){d(null)}}):Object(r.jsx)(S,{})]}),Object(r.jsx)("footer",{children:Object(r.jsxs)("a",{href:"https://github.com/dgtombs/movierate",className:"source-repo-link",children:[Object(r.jsx)("img",{src:"GitHub-Mark-16px.png",alt:"GitHub logo"})," Source Code"]})})]})},T=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(null),o=Object(s.a)(a,2),d=o[0],j=o[1];return d||fetch("api/movies.json").then((function(e){return e.json()})).then((function(e){j(e)})).finally((function(){c(!1)})),Object(r.jsx)("div",{className:"App",children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{})," Loading..."]}):d?Object(r.jsx)(I,{moviesData:d}):Object(r.jsx)(r.Fragment,{children:"Unable to load movie database. Please contact the site owner."})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,323)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(T,{})}),document.getElementById("root")),k()}},[[319,1,2]]]);
//# sourceMappingURL=main.1e290c2b.chunk.js.map