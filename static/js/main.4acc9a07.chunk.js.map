{"version":3,"sources":["domain/Movie.ts","components/MovieDetails/index.tsx","components/ConfigContext.ts","components/LoadedApp.tsx","components/App.tsx","api/api.ts","reportWebVitals.ts","index.tsx"],"names":["DEFAULT_RATING_TEXTS","1","2","3","4","5","renderRating","rating","String","Text","Typography","Title","MovieDetails","movie","className","level","title","year","director","review","ConfigContext","React","createContext","introduction","columns","dataIndex","render","Introduction","config","useContext","LoadedApp","moviesData","movies","useState","selectedMovie","setSelectedMovie","Provider","value","dataSource","rowKey","record","onRow","onClick","App","loading","setLoading","moviesResponse","setMoviesResponse","fetch","then","response","json","finally","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"mRAgBaA,EAAuB,CAChCC,EAAG,YACHC,EAAG,MACHC,EAAG,UACHC,EAAG,OACHC,EAAG,cAQMC,EAAe,SAACC,GAAD,OACxBC,OAAOD,GAAU,OAASP,EAAqBO,ICvB3CE,EAAgBC,IAAhBD,KAAME,EAAUD,IAAVC,MAiBCC,EAXuB,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OAC9B,sBAAKC,UAAW,gBAAhB,UACI,eAACH,EAAD,CAAOI,MAAO,EAAd,UAAkBF,EAAMG,MAAxB,KAAiCH,EAAMI,KAAvC,OACA,cAACN,EAAD,CAAOI,MAAO,EAAd,oBACA,cAACN,EAAD,UAAOH,EAAaO,EAAMN,UAC1B,cAACI,EAAD,CAAOI,MAAO,EAAd,sBACA,cAACN,EAAD,UAAOI,EAAMK,WACb,cAACP,EAAD,CAAOI,MAAO,EAAd,oBACA,cAAC,IAAD,UAAgBF,EAAMM,aCTnBC,EANOC,IAAMC,cAAsB,CAE9CN,MAAO,4BACPO,aAAc,8BCCVZ,EAAUD,IAAVC,MAMFa,EAA8B,CAChC,CACIR,MAAO,QACPS,UAAW,SAEf,CACIT,MAAO,OACPS,UAAW,QAEf,CACIT,MAAO,SACPS,UAAW,SACXC,OAAQpB,IAIVqB,EAAyB,WAC3B,IAAMC,EAASC,qBAAWT,GAC1B,OAAO,qCACH,cAAC,EAAD,CAAOL,MAAO,EAAd,0BACA,cAAC,IAAD,UAAgBa,EAAOL,mBAkChBO,EAzBoB,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAC1BH,EAAmBG,EAAnBH,OAAQI,EAAWD,EAAXC,OADmC,EAETC,mBAAuB,MAFd,mBAE5CC,EAF4C,KAE7BC,EAF6B,KAGnD,OACI,eAAC,EAAcC,SAAf,CAAwBC,MAAOT,EAA/B,UACI,cAAC,EAAD,UAAQA,EAAOZ,QACf,sBAAKF,UAAU,eAAf,UACI,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,CACIU,QAASA,EACTc,WAAYN,EACZO,OAAS,SAAAC,GAAM,OAAIA,EAAOxB,MAAQwB,EAAOvB,MACzCwB,MAAO,SAAAD,GAAM,MAAK,CACdE,QAAS,kBAAMP,EAAiBK,UAI5C,8BACKN,EAAgB,cAAC,EAAD,CAAcrB,MAAOqB,IAAmB,cAAC,EAAD,aC7B9DS,EA1BO,WAAO,IAAD,EACMV,oBAAkB,GADxB,mBACjBW,EADiB,KACRC,EADQ,OAEoBZ,mBAA8B,MAFlD,mBAEjBa,EAFiB,KAEDC,EAFC,KAaxB,OATKD,GCQLE,MAAM,mBAAmBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UDPnCF,MAAK,SAAAC,GACbH,EAAkBG,MACnBE,SAAQ,WAEPP,GAAW,MAKf,qBAAK/B,UAAU,MAAf,SACK8B,EACG,qCAAE,cAAC,IAAD,IAAF,iBAEAE,EACI,cAAC,EAAD,CAAWf,WAAYe,IACvB,wGEdLO,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBN,MAAK,YAAkD,IAA/CO,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASnC,OACP,cAAC,IAAMoC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BX,M","file":"static/js/main.4acc9a07.chunk.js","sourcesContent":["interface Movie {\n    title: string;\n    year: string;\n    director: string;\n    rating: Rating;\n    // If present, overrides the default text for the rating.\n    ratingText?: string;\n    // Markdown supported here.\n    review: string;\n}\n\nexport type Rating = 1|2|3|4|5;\n\n/**\n * The default rating text for each of the possible numerical ratings.\n */\nexport const DEFAULT_RATING_TEXTS = {\n    1: 'Very Bad!',\n    2: 'Bad',\n    3: 'Alright',\n    4: 'Good',\n    5: 'Very Good!',\n};\n\n/**\n * Renders a rating as text.\n *\n * @param rating\n */\nexport const renderRating = (rating: Rating): string =>\n    String(rating) + '/5: ' + DEFAULT_RATING_TEXTS[rating];\n\nexport default Movie;","import { Typography } from 'antd';\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nimport '../App.css';\nimport Movie, { renderRating } from '../../domain/Movie';\n\nconst { Text, Title } = Typography;\n\nexport interface Props {\n    movie: Movie;\n}\n\nconst MovieDetails: React.FC<Props> = ({ movie }) =>\n        <div className={'movie-details'}>\n            <Title level={2}>{movie.title} ({movie.year})</Title>\n            <Title level={5}>Rating</Title>\n            <Text>{renderRating(movie.rating)}</Text>\n            <Title level={5}>Director</Title>\n            <Text>{movie.director}</Text>\n            <Title level={5}>Review</Title>\n            <ReactMarkdown>{movie.review}</ReactMarkdown>\n        </div>;\n\nexport default MovieDetails;\n","import React from 'react';\nimport Config from '../domain/Config';\n\n/**\n * Provides app configuration to any React component that desires it.\n */\nconst ConfigContext = React.createContext<Config>({\n    /* Provide some default values per React requirements, but users should never see this. */\n    title: 'You should never see this',\n    introduction: 'You should never see this',\n});\n\nexport default ConfigContext;","import React, { useContext, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Table, Typography } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\n\nimport Movie, { renderRating } from '../domain/Movie';\nimport MovieDetails from './MovieDetails';\nimport { MoviesResponse } from '../api/api';\nimport ConfigContext from './ConfigContext';\n\nconst { Title } = Typography;\n\nexport interface Props {\n    moviesData: MoviesResponse;\n}\n\nconst columns: ColumnsType<Movie> = [\n    {\n        title: 'Title',\n        dataIndex: 'title',\n    },\n    {\n        title: 'Year',\n        dataIndex: 'year',\n    },\n    {\n        title: 'Rating',\n        dataIndex: 'rating',\n        render: renderRating,\n    },\n];\n\nconst Introduction: React.FC = () => {\n    const config = useContext(ConfigContext);\n    return <>\n        <Title level={2}>Introduction</Title>\n        <ReactMarkdown>{config.introduction}</ReactMarkdown>\n    </>;\n};\n\n/**\n * The App with initial data loaded.\n *\n * @param props\n */\nconst LoadedApp: React.FC<Props> = ({ moviesData }) => {\n    const { config, movies } = moviesData;\n    const [selectedMovie, setSelectedMovie] = useState<Movie | null>(null);\n    return (\n        <ConfigContext.Provider value={config}>\n            <Title>{config.title}</Title>\n            <div className=\"main-content\">\n                <div className=\"movie-list\">\n                    <Table\n                        columns={columns}\n                        dataSource={movies}\n                        rowKey={(record => record.title + record.year)}\n                        onRow={record => ({\n                            onClick: () => setSelectedMovie(record),\n                        })}\n                    />\n                </div>\n                <div>\n                    {selectedMovie ? <MovieDetails movie={selectedMovie}/> : <Introduction/>}\n                </div>\n            </div>\n        </ConfigContext.Provider>\n    );\n};\n\nexport default LoadedApp;\n","import { Spin } from 'antd';\nimport 'antd/dist/antd.css';\nimport React, { useState } from 'react';\n\nimport './App.css';\nimport LoadedApp from './LoadedApp';\nimport { getMovies, MoviesResponse } from '../api/api';\n\nconst App: React.FC = () => {\n    const [loading, setLoading] = useState<boolean>(true);\n    const [moviesResponse, setMoviesResponse] = useState<MoviesResponse|null>(null);\n\n    if (!moviesResponse) {\n        getMovies().then(response => {\n            setMoviesResponse(response);\n        }).finally(() => {\n            // Whether we succeeded or failed, we're done loading.\n            setLoading(false)\n        });\n    }\n\n    return (\n        <div className=\"App\">\n            {loading ?\n                <><Spin/> Loading...</> :\n                // If we finished loading but `movies` is null, that means we failed to load the movies.\n                moviesResponse ?\n                    <LoadedApp moviesData={moviesResponse} /> :\n                    <>Unable to load movie database. Please contact the site owner.</>\n            }\n        </div>\n    );\n};\n\nexport default App;\n","/*\n * Communication with backend API.\n *\n * For now this fits in one module. If it gets big, I'll split it up.\n */\n\nimport Movie from '../domain/Movie';\nimport Config from '../domain/Config';\n\n/**\n * Response object format from the movies.json endpoint.\n * This includes both app configuration and the movie list in order to reduce the number of requests needed to load the\n * app.\n */\nexport interface MoviesResponse {\n    config: Config;\n    movies: Movie[];\n}\n\nexport const getMovies = (): Promise<MoviesResponse> =>\n    fetch('api/movies.json').then(response => response.json());\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}