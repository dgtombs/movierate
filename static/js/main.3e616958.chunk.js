(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,n){},167:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);var c=n(15),i=n(0),r=n.n(i),a=n(25),o=n.n(a),s=(n(167),n(77)),l=n(151),d=(n(168),n(118),n(88)),j=n.n(d),u=n(322),b=n(321),h={1:"Very Bad!",2:"Bad",3:"Alright",4:"Good",5:"Very Good!"},x=function(e){return String(e.rating)+"/5: "+(e.ratingText||h[e.rating])},O=n(99),v=n(59),m=n(89),f=n.n(m),g=u.a.Text,p=u.a.Title,y=function(e){var t=e.movie,n=e.onClose;return Object(c.jsxs)("div",{className:"movie-details",children:[Object(c.jsxs)("header",{children:[Object(c.jsxs)(p,{level:2,children:[t.title," (",t.year,")"]}),Object(c.jsx)(v.a,{type:"text",className:"close-button",onClick:n,children:Object(c.jsx)(O.a,{})})]}),Object(c.jsx)(p,{level:5,children:"Rating"}),Object(c.jsx)(g,{children:x(t)}),Object(c.jsx)(p,{level:5,children:"Director"}),Object(c.jsx)(g,{children:t.director}),Object(c.jsx)(p,{level:5,children:"Review"}),Object(c.jsx)(j.a,{children:t.review}),Object(c.jsxs)(g,{type:"secondary",children:["Reviewed ",f()(t.rateDate).format("LL"),"."]})]})},w=r.a.createContext({title:"You should never see this",introduction:"You should never see this"}),C=u.a.Title,N="movie-list-table",D=function(){var e=Object(i.useContext)(w);return Object(c.jsxs)("div",{className:"introduction",children:[Object(c.jsx)(C,{level:2,children:"Introduction"}),Object(c.jsx)(j.a,{children:e.introduction})]})},I=function(e){var t=e.moviesData,n=t.config,r=t.movies,a=Object(i.useState)(null),o=Object(s.a)(a,2),l=o[0],d=o[1];Object(i.useEffect)((function(){document.title=n.title}));var j=[{title:"Title",dataIndex:"title"},{title:"Year",dataIndex:"year"},{title:"Director",dataIndex:"director"},{title:"Rating",className:"rating-column",dataIndex:"rating",render:function(e,t){return x(t)}},{title:"Review Date",className:"review-date-column",dataIndex:"rateDate",render:function(e){return f()(e).format("l")}}];return l&&j.splice(2,1),Object(c.jsxs)(w.Provider,{value:n,children:[Object(c.jsx)("header",{children:Object(c.jsx)(C,{children:n.title})}),Object(c.jsxs)("div",{className:"main-content",children:[Object(c.jsx)("div",{className:"movie-list",children:Object(c.jsx)(b.a,{"data-testid":N,columns:j,dataSource:r,rowKey:function(e){return e.title+e.year},onRow:function(e){return{onClick:function(){return d(e)}}}})}),l?Object(c.jsx)(y,{movie:l,onClose:function(){d(null)}}):Object(c.jsx)(D,{})]}),Object(c.jsx)("footer",{children:Object(c.jsxs)("a",{href:"https://github.com/dgtombs/movierate",className:"source-repo-link",children:[Object(c.jsx)("img",{src:"GitHub-Mark-16px.png",alt:"GitHub logo"})," Source Code"]})})]})},S=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(null),o=Object(s.a)(a,2),d=o[0],j=o[1];return d||fetch("api/movies.json").then((function(e){return e.json()})).then((function(e){j(e)})).finally((function(){r(!1)})),Object(c.jsx)("div",{className:"App",children:n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l.a,{})," Loading..."]}):d?Object(c.jsx)(I,{moviesData:d}):Object(c.jsx)(c.Fragment,{children:"Unable to load movie database. Please contact the site owner."})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,323)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(S,{})}),document.getElementById("root")),T()}},[[319,1,2]]]);
//# sourceMappingURL=main.3e616958.chunk.js.map